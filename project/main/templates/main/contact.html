{% extends 'main/base.html' %}
{% load static %}
{% load session_tags %}

{% block title %}Nous Contacter - ParkSafe | Location de places de parking entre particuliers{% endblock %}

{% block extra_head %}
<style>
    .contact-hero {
        min-height: 40vh;
        position: relative;
    }

    .form-group input:focus, 
    .form-group textarea:focus {
        outline: none;
        border-color: #3B82F6;
        box-shadow: 0 0 0 2px rgba(59, 130, 246, 0.2);
    }

    .form-group textarea {
        min-height: 150px;
        resize: vertical;
    }
</style>
{% endblock %}

{% block content %}
<!-- Hero Section -->
<section class="contact-hero bg-[var(--secondary-blue)] bg-center bg-no-repeat bg-cover flex flex-col justify-center shadow-xl poppins">
    <div class="container mx-auto px-4 relative z-10 text-center py-16">
        <h1 class="text-4xl md:text-5xl lg:text-6xl text-white font-bold mb-4">Contactez-nous</h1>
        <p class="text-xl text-white max-w-2xl mx-auto">Une question ? Une suggestion ? Notre équipe est là pour vous répondre dans les plus brefs délais.</p>
    </div>
</section>

<!-- Contact Section -->
<section class="py-16 bg-gray-50 poppins">
    <div class="container mx-auto px-4">
        <div class="max-w-[1080px] mx-auto bg-white rounded-2xl shadow-lg overflow-hidden">
            <div class="grid md:grid-cols-5">
                <!-- Contact Info -->
                <div class="md:col-span-2 bg-secondary text-white p-8 flex flex-col justify-between">
                    <div>
                        <h2 class="text-2xl font-semibold mb-6">Informations</h2>
                        <div class="space-y-6">
                            <div class="flex items-start space-x-4">
                                <svg class="w-6 h-6 mt-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"/>
                                </svg>
                                <div>
                                    <h3 class="font-semibold">Téléphone</h3>
                                    <p>01 23 45 67 89</p>
                                </div>
                             </div>
                            <div class="flex items-start space-x-4">
                                <svg class="w-6 h-6 mt-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z" />
                                </svg>
                                <div>
                                    <h3 class="font-semibold">Email</h3>
                                    <p>contact@parksafe.fr</p>
                                </div>
                            </div>
                            <div class="flex items-start space-x-4">
                                <svg class="w-6 h-6 mt-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" />
                                </svg>
                                <div>
                                    <h3 class="font-semibold">Horaires</h3>
                                    <p>Lun - Ven: 9h - 18h<br>Sam: 9h - 12h</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="mt-8">
                        <h3 class="font-semibold mb-4">Suivez-nous</h3>
                        <div class="flex space-x-4">
                            <a href="#" class="hover:text-gray-200 transition-colors">
                                <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24">
                                    <path d="M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"/>
                                </svg>
                            </a>
                            <a href="#" class="hover:text-gray-200 transition-colors">
                                <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24">
                                    <path d="M23.953 4.57a10 10 0 01-2.825.775 4.958 4.958 0 002.163-2.723c-.951.555-2.005.959-3.127 1.184a4.92 4.92 0 00-8.384 4.482C7.69 8.095 4.067 6.13 1.64 3.162a4.822 4.822 0 00-.666 2.475c0 1.71.87 3.213 2.188 4.096a4.904 4.904 0 01-2.228-.616v.06a4.923 4.923 0 003.946 4.827 4.996 4.996 0 01-2.212.085 4.936 4.936 0 004.604 3.417 9.867 9.867 0 01-6.102 2.105c-.39 0-.779-.023-1.17-.067a13.995 13.995 0 007.557 2.209c9.053 0 13.998-7.496 13.998-13.985 0-.21 0-.42-.015-.63A9.935 9.935 0 0024 4.59z"/>
                                </svg>
                            </a>
                            <a href="#" class="hover:text-gray-200 transition-colors">
                                <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24">
                                    <path d="M12 0C5.373 0 0 5.373 0 12s5.373 12 12 12 12-5.373 12-12S18.627 0 12 0zm5.894 9.438l-2.149 9.438c-.163.717-.753.938-1.528.578l-4.225-3.113-2.038 1.96c-.226.226-.416.416-.854.416l.304-4.288 7.812-7.063c.34-.34-.074-.528-.526-.188l-9.664 6.082-4.162-1.302c-.908-.285-.925-.908.188-1.344l16.25-6.263c.754-.285 1.416.171 1.177 1.219z"/>
                                </svg>
                            </a>
                        </div>
                    </div>
                </div>

                <!-- Contact Form -->
                <div class="md:col-span-3 p-8 relative">
                    <div class="absolute top-0 left-0 -translate-y-12" id="formulaire"></div>
                    <h2 class="text-2xl font-semibold mb-6 secondary">Envoyez-nous un message</h2>
                    {% if request.session.message %}
                    <div class="flex items-center p-4 mb-6 bg-green-50 border-l-4 border-green-500 rounded">
                       <svg class="h-6 w-6 text-green-500 mr-3" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                           <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" />
                       </svg>
                       <p class="text-green-700">{{ request.session.message }}</p>
                    </div>
                    {% del_session_message %}
                    {% endif %}
                    
                    {% if request.session.alert %}
                    <div class="flex items-center p-4 mb-6 bg-red-50 border-l-4 border-red-500 rounded">
                       <svg class="h-6 w-6 text-red-500 mr-3" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                           <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                       </svg>
                       <p class="text-red-700">{{ request.session.alert }}</p>
                    </div>
                    {% del_session_message %}
                    {% endif %}
                    <form method="POST" class="flex flex-col gap-3" action="#formulaire">
                        {% csrf_token %}
                        <div class="flex flex-wrap gap-4">
                            <div class="flex flex-col gap-2 basis-[100px] shrink-0 grow">
                                <label class="text-gray-700 font-medium">{{ form.first_name.label }}</label>
                                {{ form.first_name }}
                                {% if form.first_name.errors %}
                                    {% for error in form.first_name.errors %}
                                        <div class="flex items-center bg-red-50 px-3 py-2 rounded-md">
                                            <svg class="h-5 w-5 text-red-500 mr-2" viewBox="0 0 20 20" fill="currentColor">
                                                <path d="M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z"/>
                                            </svg>
                                            <p class="text-sm text-red-600">{{error}}</p>
                                        </div>
                                    {% endfor %}
                                {% endif %}
                            </div>
                            <div class="flex flex-col gap-2 basis-[100px] shrink-0 grow">
                                <label class="text-gray-700 font-medium">{{ form.last_name.label }}</label>
                                {{ form.last_name }}
                                {% if form.last_name.errors %}
                                    {% for error in form.last_name.errors %}
                                        <div class="flex items-center bg-red-50 px-3 py-2 rounded-md">
                                            <svg class="h-5 w-5 text-red-500 mr-2" viewBox="0 0 20 20" fill="currentColor">
                                                <path d="M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z"/>
                                            </svg>
                                            <p class="text-sm text-red-600">{{error}}</p>
                                        </div>
                                    {% endfor %}
                                {% endif %}
                            </div>
                         </div>
                        <div class="flex flex-col gap-1">
                            <p>{{ form.phone.label }} :</p>
                            {{ form.phone }}
                            {% if form.phone.errors %}
                                {% for error in form.phone.errors %}
                                    <p class="text-sm text-red-500">{{error}}</p>
                                {% endfor %}
                            {% endif %}
                        </div>
                        <div class="flex flex-col gap-1">
                            <p>{{ form.email.label }} :</p>
                            {{ form.email }}
                            {% if form.email.errors %}
                                {% for error in form.email.errors %}
                                    <p class="text-sm text-red-500">{{error}}</p>
                                {% endfor %}
                            {% endif %}
                        </div>
                        <div class="flex flex-col gap-1">
                            <p>{{ form.message.label }} :</p>
                            {{ form.message }}
                            {% if form.message.errors %}
                                {% for error in form.message.errors %}
                                    <p class="text-sm text-red-500">{{error}}</p>
                                {% endfor %}
                            {% endif %}
                        </div>
                        <button type="submit" 
                                class="w-full bg-secondary hover:bg-blue-900 text-white font-semibold py-3 px-6 rounded-lg transition-colors duration-200">
                            Envoyer
                        </button>
                    </form>
                </div>
            </div>
        </div>
    </div>
</section>
{% endblock %}

{% block extra_script %}
<script>
</script>
{% endblock %}